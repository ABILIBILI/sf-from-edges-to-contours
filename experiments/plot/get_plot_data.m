% Zornitsa Kostadinova
% Nov 2014
% 8.3.0.532 (R2014a)
function data = get_plot_data(experiments_to_plot)
% directories, labels and line styles for the precomputed results
% structure is defined in this manner to allow easy rearrangement of order of
% curves (in the legend)
% dataSfUcm is our baseline
dataSfUcm=struct('out','Output_sf_ucm','legend','SE ucm','style',{{'LineStyle','--'}}); % multiscale, model.opts.nms=1
dataBest=[...
  struct('out','Output_sf_segs','legend','SE watershed','style',{{}}),...
  dataSfUcm,...
  struct('out','Output_sf_sPb_nms','legend','SE + sPb','style',{{'LineStyle','--'}}),... % non-max-suppressed E as input to sPb
  struct('out','Output_BSDS_downloaded','legend','gPb+ucm','style',{{}})...
  struct('out','Output_sf_edges','legend','SE','style',{{}}),... % TODO: plotOpts.metrics='bdry';
  struct('out','Output_MCG_downloaded','legend','MCG','style',{{}}),...
  struct('out','Output_N4_Fields_downloaded','legend','N^4 Fields','style',{{}})... % TODO this method has only BPR output, as well as SE; allow plotting to not mess up the legend
  struct('out','Output_Crisp_(PMI)_downloaded','legend','Crisp (PMI)','style',{{}})... % TODO 
  ];
% 'style',{{'LineStyle','-.','Marker','*'}}
% LineStyle '--' '-.'
% Marker '*' 'x' 'd' 'o'

% our experiments
% dataOraclePB=[... % oracle result value-multiplied by the probability of boundary
%   struct('out','Output_oracle_line_RSRI_pb','legend','o. l. RSRI pb','style',{{'Marker','o'}}),...
%   struct('out','Output_oracle_segs_VPR_normalised_trees_pb','legend','o. s. VPR norm Ts pb','style',{{'Marker','o'}}),...
%   struct('out','Output_oracle_segs_VPR_normalised_ws_pb','legend','o. s. VPR norm ws pb','style',{{'Marker','o'}}),...
%   struct('out','Output_oracle_line_VPR_normalised_ws_pb','legend','o. l. VPR norm ws pb','style',{{'Marker','o'}}),...
%   ];
data_SE_ucm_new_baseline=[... % new baseline - evaluate SF on a pixel (or smaller patch); rescaled ucm2s
  struct('out','Output_ucm_bdry_sz_1_mid_1x1_rescaled','legend','1x1 mid','style',{{'Marker','x'}}),...
  struct('out','Output_ucm_bdry_sz_1_ul_1x1_rescaled','legend','1x1 ul','style',{{'Marker','x'}}),...
  struct('out','Output_ucm_bdry_sz_1_ul_2x2_rescaled','legend','2x2 ul','style',{{'Marker','x'}}),...
  struct('out','Output_ucm_bdry_sz_1_ul_4x4_rescaled','legend','4x4 ul','style',{{'Marker','x'}}),...
  struct('out','Output_ucm_bdry_sz_1_ul_8x8_rescaled','legend','8x8 ul','style',{{'Marker','x'}}),...
  struct('out','Output_ucm_bdry_sz_1_ul_16x16_orig_rescaled','legend','16x16=orig','style',{{'Marker','x'}}),...
];
% TODO add a proper baseline

% include other definitions
get_plot_data_bpr;
get_plot_data_vpr;
get_plot_data_ri;
get_plot_data_region_bdry;

% summary
data_all=[...
  data_bpr,...
  data_vpr,...
  data_ri,...
  ];
data_oracle_all=[...
  data_oracle_bpr,...
  data_oracle_vpr,...
  data_oracle_ri,...
  ];
%

dataOurs=data_all;

switch experiments_to_plot
  case 'best'
    data=dataBest;
  case 'ours'
    % experiment for checking if anything is lost by reweighing only on the
    % boundary location
    % in all, the E (pb) is not nms (opts.model.nms=0), and detection was single scale
    data=[...
      struct('out','Output_SF_single_scale','legend','SE ucm','style',{{'Marker','x'}}),...
      struct('out','Output_SF_single_scale_on_contours','legend','SE ucm, on contours','style',{{'Marker','x'}}),...
      struct('out','Output_SF_single_scale_png','legend','SE edge','style',{{'Marker','x'}}),...
      struct('out','Output_SF_single_scale_on_contours_png','legend','SE edge, on contours','style',{{'Marker','x'}}),...
      ];
    % initial experiments with metrics and input types
    data=[...
      dataSfUcm,...
      struct('out','Output_VprBdry01','legend','VPR bdry01','style',{{'Marker','x'}}),... % unsuitable: struct('out','Output_VprBdry12','legend','VPR bdry12','style',{{'Marker','x'}}),...
      struct('out','Output_VprSegsUnnormalised','legend','VPR unnorm. segs','style',{{'Marker','x'}}),...
      struct('out','Output_RSRI_bdry01','legend','RSRI bdry01','style',{{'Marker','x'}}),...
      struct('out','Output_RSRI_segs','legend','RSRI segs','style',{{'Marker','x'}}),...
      ];
    % best performing from the above - RSRI_segs, improved in dataOurs
    data=[dataSfUcm,dataOurs];
  case 'mid-masters'
    data_baseline=[...
      struct('out','Output_sf_ucm','legend','baseline (SE+ucm)','style',{{'LineStyle','-.','Marker','d'}});
      ];
    data_mid_presentation=[...
      struct('out','Output_fair_segs_merge','legend','greedy merge, RIMC','style',{{}}),...% 1
      struct('out','Output_segs_VPR_normalised_trees','legend','segs, VPR','style',{{}}),... % 2 normalised T
      struct('out','Output_bpr_3','legend','line, BPR','style',{{}}),... %      struct('out','Output_oracle_fair_segs_merge','legend','oracle: greedy merge, RIMC','style',{{'LineStyle','--'}}),... %      struct('out','Output_oracle_segs_VPR_normalised_trees','legend','oracle: segs, VPR','style',{{'LineStyle','--'}}),... %      struct('out','Output_oracle_bpr_3','legend','oracle: line, BPR','style',{{'LineStyle','--'}}),...
      ];
    data_others=[... % struct('out','Output_sf_segs','legend','SE watershed','style',{{}}),... % struct('out','Output_sf_sPb_nms','legend','SE + sPb','style',{{'LineStyle','--'}}),... % non-max-suppressed E as input to sPb
      struct('out','Output_BSDS_downloaded','legend','gPb-owt-ucm','style',{{}})...
      struct('out','Output_sf_edges','legend','SE','style',{{}}),... % TODO: plotOpts.metrics='bdry';
      struct('out','Output_Crisp_(PMI)_downloaded','legend','Crisp (PMI)','style',{{}})... % TODO 
      struct('out','Output_MCG_downloaded','legend','MCG','style',{{}}),...
      struct('out','Output_N4_Fields_downloaded','legend','N^4 Fields','style',{{}})... % TODO this method has only BPR output, as well as SE; allow plotting to not mess up the legend
      ];
    data=[data_baseline data_mid_presentation, data_others];
  otherwise
    assert(strcmp(experiments_to_plot,'all'));
    data=[dataBest,dataOurs];
end
end
